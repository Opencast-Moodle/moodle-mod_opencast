define("mod_opencast/form_dependent_select",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;_exports.init=choices=>{var selectseries=document.getElementById("id_series"),selectepisodes=document.getElementById("id_episode");selectseries.addEventListener("change",(function(){var series=this.value;document.getElementById("id_ocinstanceid").value=this.value.substring(this.value.lastIndexOf("_")+1,this.value.length),document.getElementById("id_opencastid").value=this.value.substring(0,this.value.lastIndexOf("_")),document.getElementById("id_opencastid").dispatchEvent(new Event("change")),Array.from(selectepisodes.options).forEach((function(option){option.value in choices[series]?(option.hidden=!1,option.hidden=!1):(option.hidden=!0,option.hidden=!0)})),selectepisodes.value="allvideos"})),selectepisodes.addEventListener("change",(function(){document.getElementById("id_opencastid").value=this.value,document.getElementById("id_opencastid").dispatchEvent(new Event("change"))}));var initOpencastid=document.getElementById("id_opencastid").value;if(initOpencastid){selectepisodes.value=initOpencastid;var foundseries=!1;for(const[seriesid,episodes]of Object.entries(choices))if(seriesid.substring(seriesid.lastIndexOf("_")+1,seriesid.length)===document.getElementById("id_ocinstanceid").value){if(initOpencastid===seriesid.substring(0,seriesid.lastIndexOf("_"))){selectseries.value=seriesid,selectepisodes.value="allvideos",foundseries=!0;break}if(initOpencastid in episodes){selectseries.value=seriesid,foundseries=!0;break}}foundseries||(selectseries.value="invalid")}else selectseries.options.length>0&&selectseries.dispatchEvent(new Event("change"));selectseries.form.addEventListener("submit",(function(){document.getElementById("id_opencastid").disabled=!1,document.getElementById("id_ocinstanceid").disabled=!1}))}}));

//# sourceMappingURL=form_dependent_select.min.js.map