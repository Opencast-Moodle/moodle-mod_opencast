{"version":3,"sources":["../src/opencast_player.js"],"names":["define","$","OpencastToPaellaConverter","wwwroot","M","cfg","init","ready","iframeWindow","document","getElementById","contentWindow","paella","lazyLoad","loadVideo","Promise","resolve","data","convertToDataJson","window","episode"],"mappings":"AAAAA,OAAM,gCAAC,CAAC,QAAD,CAAW,2CAAX,CAAD,CACF,SAASC,CAAT,CAAYC,CAAZ,CAAuC,CAEnC,GAAIC,CAAAA,CAAO,CAAGC,CAAC,CAACC,GAAF,CAAMF,OAApB,CAiBA,MAAO,CACHG,IAAI,CAhBR,UAAsB,CAClBL,CAAC,GAAGM,KAAJ,CAAU,UAAM,CACZ,GAAMC,CAAAA,CAAY,CAAGC,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,aAA9D,CACAH,CAAY,CAACI,MAAb,CAAoBC,QAApB,CAA6B,iBAA7B,CAAgD,CAC5C,UAAaV,CAAO,CAAG,gDADqB,CAE5CW,SAAS,CAAE,oBAAW,CAClB,MAAO,IAAIC,CAAAA,OAAJ,CAAY,SAACC,CAAD,CAAa,CAC5B,GAAIC,CAAAA,CAAI,CAAG,GAAIf,CAAAA,CAAJ,CAA8BM,CAAY,CAACI,MAA3C,EAAmDM,iBAAnD,CAAqEC,MAAM,CAACC,OAA5E,CAAX,CACAJ,CAAO,CAACC,CAAD,CACV,CAHM,CAIV,CAP2C,CAAhD,CASH,CAXD,CAYH,CAEM,CAGV,CAvBC,CAAN","sourcesContent":["define(['jquery', 'mod_opencast/opencast_to_paella_converter'],\n    function($, OpencastToPaellaConverter) {\n\n        var wwwroot = M.cfg.wwwroot;\n\n        function initManage() {\n            $().ready(() => {\n                const iframeWindow = document.getElementById('player-iframe').contentWindow;\n                iframeWindow.paella.lazyLoad('playerContainer', {\n                    'configUrl': wwwroot + '/mod/opencast/paella/player/config/config.json',\n                    loadVideo: function() {\n                        return new Promise((resolve) => {\n                            let data = new OpencastToPaellaConverter(iframeWindow.paella).convertToDataJson(window.episode);\n                            resolve(data);\n                        });\n                    }\n                });\n            });\n        }\n\n        return {\n            init: initManage\n        };\n    });\n"],"file":"opencast_player.min.js"}